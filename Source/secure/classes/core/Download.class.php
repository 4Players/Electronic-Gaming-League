<?php
# ================================ Copyright  2005-2006 Inetopia, All rights reserved. ==========================
# 
#
# Purpose:
# ================================================================================================================



# -[ defines ]-



# -[ objectlist ] -




# -[ class ] -
class Download
{
	# -[ variables ]-
	var $iPackageSize	= 4096;		# 4 KB
	var $Buffer			= NULL;
	# -[ functions ]-
	
	
	# =========================================================================
	# PUBLIC
	# =========================================================================
	
	//-------------------------------------------------------------------------------
	// Purpose: constructor
	// Output : -
	//-------------------------------------------------------------------------------
	function Download ()
	{
	}

	//-------------------------------------------------------------------------------
	// Purpose: 
	// Output : 
	//-------------------------------------------------------------------------------	
	function SetPackageSize( $p_s )
	{
		$this->iPackageSize = $p_s;
	}
	

	
	//-------------------------------------------------------------------------------
	// Purpose: 
	// Output : 
	//-------------------------------------------------------------------------------	
	function Start( $source_file, $dest_file )
	{
		if( !($hRes = fopen( $source_file, 'rb' )))
		{
			return 0;
		}
		$this->Buffer = NULL;
		
		
		# start downloading
		do 
		{
			$TempBuffer = fread( $hRes, $this->iPackageSize );
			$this->Buffer .= $TempBuffer;
		}while( strlen($TempBuffer) > 0 );


		# save temp buffer to local buffer
		$this->Buffer = $TempBuffer;
	}
	
	
	//-------------------------------------------------------------------------------
	// Purpose: 
	// Output : 
	//-------------------------------------------------------------------------------	
	function GetBuffer()
	{
	}
	

	//-------------------------------------------------------------------------------
	// Purpose: 
	// Output : 
	//-------------------------------------------------------------------------------	
	function FreeBuffer()
	{
	}
};

?>